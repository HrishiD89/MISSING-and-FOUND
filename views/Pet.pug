extends layout
block header
    br
    //- .carousel.slide(data-ride='carousel').mt-5
    //-     .carousel-inner
    //-         .carousel-item.active(style="height: 100px; margin-top:80px")

    //-         section.align-middle.search-sec
    //-             .container
    //-                 h2(style="color:white").mb-5 SEARCH FOR MISSING pet

    //-                 form(action='/pet/pet_searc h/' method='post' novalidate='novalidate')
    //-                     .row
    //-                         .col-lg-12
    //-                             .row
    //-                                 .col-lg-3.col-md-3.col-sm-12
    //-                                     input.form-control.search-slt(type='text' placeholder='Name' name="name")
    //-                                 .col-lg-3.col-md-3.col-sm-12
    //-                                     input.form-control.search-slt(type='text' placeholder='Country' name="country")
    //-                                 .col-lg-3.col-md-3.col-sm-12
    //-                                     select.form-control.search-slt(name="gender")
    //-                                         option(value="gender" selected) Gender
    //-                                         option(value="male") Male
    //-                                         option(value="female") Female
    //-                                 .col-lg-3.col-md-3.col-sm-12.p-0
    //-                                     button.btn.wrn-btn.rounded-pill(type='submit' style="background-color:#41250a;color:white;font-size:18px" ) SEARCH

block content
    - var n = pet.length -1;

    h2(style="text-align:center") MISSING pet
    .showcase_container.p-4.border.border-light.rounded.py-2 
        br
        .card-deck
            .row
                if n < 4
                    while n >= 0
                        .card.bg-dark
                            span.badge.badge-pill.badge-danger#lastest_item Recent
                            //- img(src="../images/recent.gif" alt="Recent" style="position:absolute;height:40px;width:40px;border-radius:50%;")
                            if pet[n].Image==undefined
                                img.card-img-top(src='/images/noimgpet.jpg', alt=pet[n].Name)
                            else
                                img.card-img-top(src='/uploads/missing_pet/'+pet[n].Image,style="object-fit:cover;", alt=pet[n].Name)
                            .card-body
                                h5.card-title=pet[n].Name
                                ul.list-group.list-group-flush.myList
                                    li.list-group-item.bg-dark.text-light Breed: #{pet[n].Breed}
                                    li.list-group-item.bg-dark.text-light Age: #{pet[n].Age}
                                    //- li.list-group-item.bg-dark.text-light Color: #{pet[n].Color}
                                    li.list-group-item.bg-dark.text-light Status: 
                                        if pet[n].CurrentStatus == "missing"
                                            span.badge.badge-warning Missing
                                        else
                                            span.badge.badge-success Found	

                            //- if user posted the report don't show investigate for him
                            -if (user._id.toString() !== pet[n].Author.toString())
                                .card-footer.bg-light
                                    a(href="/pet/"+pet[n]._id style="color:white").btn.btn-primary
                                        span.fa.fa-search
                                        |  INVESTIGATE
                            -else
                                //- .card-footer.bg-light
                                //- 	a(href="/person/"+person[n]._id style="color:white; display: none;").btn.btn-primary
                                //- 		span.fa.fa-search
                                //- 		|  INVESTIGATE
                        -var n=n-1;
                if n > 11
                    while pet.length -13 < n
                        .col-sm-12.col-md-6.col-lg-4.col-xl-3.mb-4
                            .card.bg-dark
                                if n > pet.length -5
                                    span.badge.badge-pill.badge-danger#lastest_item Recent
                                if pet[n].Image==undefined
                                    img.card-img-top(src='/images/noimgpet.jpg', alt=pet[n].Name)
                                else
                                    img.card-img-top(src='/uploads/missing_pet/'+pet[n].Image, alt=pet[n].Name)
                                .card-body
                                    h5.card-title=pet[n].Name
                                    ul.list-group.list-group-flush.myList
                                        li.list-group-item.bg-dark.text-light Breed: #{pet[n].Breed}
                                        li.list-group-item.bg-dark.text-light Age: #{pet[n].Age}
                                        //- li.list-group-item.bg-dark.text-light Color: #{pet[n].Color}
                                        li.list-group-item.bg-dark.text-light Status: 
                                            if pet[n].CurrentStatus == "missing"
                                                span.badge.badge-warning Missing
                                            else
                                                span.badge.badge-success Found	
                                -if (user._id.toString() !== pet[n].Author.toString())
                                    .card-footer.bg-light
                                        a(href="/pet/"+pet[n]._id style="color:white").btn.btn-primary
                                            span.fa.fa-search
                                            |  INVESTIGATE
                                -else
                                    //- .card-footer.bg-light
                                    //- 	a(href="/person/"+person[n]._id style="color:white; display: none;").btn.btn-primary
                                    //- 		span.fa.fa-search
                                    //- 		|  INVESTIGATE
                        -var n=n-1;
                else
                    while n >= 0
                        .col-sm-12.col-md-6.col-lg-4.col-xl-3.mb-4
                            .card.bg-dark.rounded-5
                                if n > pet.length -3
                                    span.badge.badge-pill.badge-danger#lastest_item Recent
                                if pet[n].Image==undefined
                                    img.card-img-top(src='/images/noimgpet.jpg', alt=pet[n].Name)
                                else
                                    img.card-img-top(src='/uploads/missing_pet/'+pet[n].Image, alt=pet[n].Name)
                                .card-body
                                    h5.card-title=pet[n].Name
                                    ul.list-group.list-group-flush.myList
                                        li.list-group-item.bg-dark.text-light Breed: #{pet[n].Breed}
                                        li.list-group-item.bg-dark.text-light Age: #{pet[n].Age}
                                        //- li.list-group-item.bg-dark.text-light Color: #{pet[n].Color}
                                        li.list-group-item.bg-dark.text-light Status: 
                                            if pet[n].CurrentStatus == "missing"
                                                span.badge.badge-warning Missing
                                            else
                                                span.badge.badge-success Found	
                                -if (user._id.toString() !== pet[n].Author.toString())
                                    .card-footer.bg-light
                                        a(href="/pet/"+pet[n]._id style="color:white").btn.btn-primary
                                            span.fa.fa-search
                                            |  INVESTIGATE
                                -else
                                    //- .card-footer.bg-light
                                    //- 	a(href="/person/"+person[n]._id style="color:white; display: none;").btn.btn-primary
                                    //- 		span.fa.fa-search
                                    //- 		|  INVESTIGATE
                        -var n=n-1;
