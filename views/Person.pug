extends layout
block header
	br
block content
	- var n = person.length -1;

	h2(style="text-align:center") MISSING PERSON
	.showcase_container.p-4.border.border-light.rounded.py-2 
		br
		.card-deck
			.row(style="margin-left:0px")
				if n < 3
					while n >= 0
						.card(style="min-width:250px").bg-dark
							span.badge.badge-pill.badge-danger#lastest_item Recent
							//- img(src="../images/recent.gif" alt="Recent" style="position:absolute;height:40px;width:40px;border-radius:50%;")
							if person[n].Image==undefined
								if person[n].Gender=="male"
									img.reportviewimg.card-img-top(src='/mpf/missing_male.jpg' ,alt=person[n].Name)
								else
									img.reportviewimg.card-img-top(src='/mpf/missing_female.png' , alt=person[n].Name)
							else
								img.card-img-top.reportviewimg(src='/uploads/missing/'+person[n].Image, alt=person[n].Name)
							.card-body
								h5.card-title=person[n].Name
								ul.list-group.list-group-flush.myList
									//- li.list-group-item.bg-dark.text-light Gender: #{person[n].Gender}
									- const dateStr = person[n].DateOfMissing
									- const date = new Date(dateStr)
									- const formattedDate = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })

										li.list-group-item.bg-dark.text-light Age: #{person[n].Age}

										li.list-group-item.bg-dark.text-light Missing Date : #{formattedDate}
									//- li.list-group-item.bg-dark.text-light Skin: #{person[n].SkinColor}
									li.list-group-item.bg-dark.text-light Status: 
										if person[n].CurrentStatus == "missing"
											span.badge.badge-warning Missing
										else
											span.badge.badge-success Found	
							//- .card-footer.bg-light
							//- 	a(href="/person/"+person[n]._id style="color:white").btn.btn-primary
							//- 		span.fa.fa-search
							//- 		|  INVESTIGATE
							-if (user._id.toString() !== person[n].Author.toString())
								.card-footer.bg-light
									a(href="/person/"+person[n]._id style="color:white;margin-left:30px").btn.btn-primary
										span.fa.fa-search
										|  INVESTIGATE
							-else
								//- .card-footer.bg-light
								//- 	a(href="/person/"+person[n]._id style="color:white; display: none;").btn.btn-primary
								//- 		span.fa.fa-search
								//- 		|  INVESTIGATE

						-var n=n-1;

				if n > 11
					while person.length -13 < n
						.col-sm-12.col-md-6.col-lg-4.col-xl-3.mb-4
							.card.bg-dark
								if n > person.length -5
									span.badge.badge-pill.badge-danger#lastest_item Recent
								if person[n].Image==undefined
									if person[n].Gender=="male"
										img.reportviewimgcard-img-top(src='/mpf/missing_male.jpg', alt=person[n].Name)
									else
										img.card-img-top.reportviewimg(src='/mpf/missing_female.png', alt=person[n].Name)
								else
									img.card-img-top.reportviewimg(src='/uploads/missing/'+person[n].Image, alt=person[n].Name)
								.card-body
									h5.card-title=person[n].Name
									ul.list-group.list-group-flush.myList
										//- li.list-group-item.bg-dark.text-light Gender: #{person[n].Gender}
										- const dateStr = person[n].DateOfMissing
										- const date = new Date(dateStr)
										- const formattedDate = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })

											li.list-group-item.bg-dark.text-light Age: #{person[n].Age}

											li.list-group-item.bg-dark.text-light Missing Date : #{formattedDate}
										//- li.list-group-item.bg-dark.text-light Skin: #{person[n].SkinColor}
										li.list-group-item.bg-dark.text-light Status: 
											if person[n].CurrentStatus == "missing"
												span.badge.badge-warning Missing
											else
												span.badge.badge-success Found	
								//- .card-footer.bg-light
								//- 	a(href="/person/"+person[n]._id style="color:white").btn.btn-primary
								//- 		span.fa.fa-search
								//- 		|  INVESTIGATE
								-if (user._id.toString() !== person[n].Author.toString())
									.card-footer.bg-light
										a(href="/person/"+person[n]._id style="color:white").btn.btn-primary
											span.fa.fa-search
											|  INVESTIGATE
								-else
									//- .card-footer.bg-light
									//- 	a(href="/person/"+person[n]._id style="color:white; display: none;").btn.btn-primary
									//- 		span.fa.fa-search
									//- 		|  INVESTIGATE
						-var n=n-1;
				else
					while n >= 0
						.col-sm-12.col-md-6.col-lg-4.col-xl-3.mb-4
							.card.bg-dark.rounded-5
								if n > person.length -5
									span.badge.badge-pill.badge-danger#lastest_item Recent
								if person[n].Image==undefined
									if person[n].Gender=="male"
										img.reportviewimg.card-img-top(src='/mpf/missing_male.jpg', alt=person[n].Name)
									else
										img.reportviewimg.card-img-top(src='/mpf/missing_female.png', alt=person[n].Name)
								else
									img.reportviewimg.card-img-top(src='/uploads/missing/'+person[n].Image, alt=person[n].Name )
								.card-body
									h5.card-title=person[n].Name
									ul.list-group.list-group-flush.myList
										//- li.list-group-item.bg-dark.text-light Gender: #{person[n].Gender}
									- const dateStr = person[n].DateOfMissing
									- const date = new Date(dateStr)
									- const formattedDate = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })

										li.list-group-item.bg-dark.text-light Age: #{person[n].Age}

										li.list-group-item.bg-dark.text-light Missing Date : #{formattedDate}
										//- li.list-group-item.bg-dark.text-light Skin: #{person[n].SkinColor}
										li.list-group-item.bg-dark.text-light Status: 
											if person[n].CurrentStatus == "missing"
												span.badge.badge-warning Missing
											else
												span.badge.badge-success Found	

								//- .card-footer.bg-light
								//- 	a(href="/person/"+person[n]._id style="color:white").btn.btn-primary
								//- 		span.fa.fa-search
								//- 		|  INVESTIGATE
								-if (user._id.toString() !== person[n].Author.toString())
									.card-footer.bg-light
										a(href="/person/"+person[n]._id style="color:white").btn.btn-primary
											span.fa.fa-search
											|  INVESTIGATE
								-else
									//- .card-footer.bg-light
									//- 	a(href="/person/"+person[n]._id style="color:white; display: none;").btn.btn-primary
									//- 		span.fa.fa-search
									//- 		|  INVESTIGATE
						-var n=n-1;
